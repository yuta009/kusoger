# 魔王殲滅兵器：クロノシス攻防戦 仕様書（HTML/CSS/JavaScript版）

## 1. ゲームタイトル
**魔王殲滅兵器：クロノシス攻防戦**  
（英題：*Chronosis Offensive – Goddess’ Counterattack*）

---

## 2. ストーリー
異世界転生を阻止された世界。  
魔王は未来の敗北を回避したが、その代償として時間の均衡が崩壊した。  

女神アルセリアは時間干渉制限フィールド《クロノシス》を発動。  
彼女の創造した殲滅兵器「ラーム・ブリヤント」を用いて、  
ついに魔王城への逆侵攻を開始する。

プレイヤーは女神に選ばれた使徒として、  
魔王軍の防衛網を突破し、魔王を討伐せよ。

詳細ストーリー
第四章：魔王城への進撃

//ーー ゲーム開始時  ーー//
クロノシスを展開した女神は、兵器《ラーム・ブリヤント》を地上に降ろす。
それは空を覆う翼を持つ光の巨神――
人類・魔導・機械、三種の叡智の象徴。

魔王軍は迎撃に出る。
時空の裂け目から無限の魔物が出現し、
光弾と闇弾が世界を埋め尽くす。

プレイヤー（使徒）は《ラーム・ブリヤント》の操縦核に接続され、
次々と現れる敵を撃破していく。

女神は空から支援魔法を展開し、
プレイヤーはその力を借りて前進を続ける。

「時よ、止まれ。
そして、再び動き出せ――私たちの望む未来のために！」

//ーー VS魔王開始  ーー//

第五章：魔王ヴェル＝ノアとの決戦

魔王は、かつて阻止したはずの転生の魂が再び動き出すのを感じ取り、
激昂する。

「貴様らがいくら時間を繕おうとも、未来は変わらぬ！」

魔王ヴェル＝ノアは、自らの魔力を時間に重ね、
「過去に存在する自分」たちを同時召喚する。
多重存在の魔王が一斉に攻撃を開始。
空間がねじれ、現実が崩壊を始める。

//ーー 魔王撃破時ストーリー ーー//
女神は、ラーム・ブリヤントの全出力を解放。
機体は金色に輝き
**「時空聖装：ラーム・ブリヤント・エターナル」**へと進化する。

最後の一撃。
クロノシスの中心に魔王を引き込み、
時間の全てを「始まりの光」へと巻き戻す。
魔王の叫びと共に、世界は静寂に包まれた。

//ーー 魔王敗北時のストーリー ーー//
ラーム・ブリヤントの装甲が一枚、また一枚と砕け散る。
内部に宿る魂の共鳴が崩壊を防ごうとするが、力はあまりにも足りなかった。

プレイヤー「……ごめん、この力を使いこなせなかった……」

女神は微笑みながら、崩壊するコックピットで目を閉じた。
そして、彼女はすべての魔力を使い、最後の祈りを放つ。

「次の世界では、絶対に…ま…け…」

光が弾ける。
クロノシス・フィールドは完全に消滅し、女神たちは消え去った。

---

## 3. ゲームジャンル
**ジャンル：横スクロールシューティング（女神の魔王討伐編）**  
- マリオ＋ギャラガ風の2D横スクロールアクション  
- プレイヤーは自動で右方向へ進み、敵弾を避けつつ撃破して進行する  
- ウェーブ形式で進行し、最終ステージで魔王と決戦

**実装ポイント：**
- 背景スクロール：CSS `animation: move-bg linear infinite`  
- 敵と弾の当たり判定：`getBoundingClientRect()`を使った矩形衝突判定  
- 弾発射処理：一定間隔で`setInterval()`による生成・移動  
- プレイヤー移動：`mousemove`またはスマホのタッチドラッグで制御  
- スコア・HP表示は固定UIで右上に表示

---

## 4. ゲームの流れ
1. **タイトル画面**
   - タイトルロゴ、スタートボタン、BGM ON/OFFボタン
   - 「スタート」を押すとゲーム開始

2. **プレイ画面**
   - 横スクロール背景
   - プレイヤー機（ラーム・ブリヤント）と敵出現
   - スコア・残機・魔力ゲージを表示

3. **ボス戦**
   - 魔王ヴェル＝ノア登場
   - 高速弾幕＋時間干渉攻撃を展開
   - HP 0で撃破 → 勝利演出

4. **リザルト画面**
   - スコア、撃破数、被弾回数を表示
   - 「リトライ」または「タイトルへ戻る」

---

## 5. 勝敗条件
| 条件 | 内容 |
|------|------|
| 勝利 | 魔王ヴェル＝ノアを撃破（HP 0） |
| 敗北 | ラーム・ブリヤントのHPが0、または時間切れ |
| ゲームオーバー後 | スコア記録・ランキング表示（localStorage利用） |

---

## 6. 操作方法
| 操作 | PC版 | スマホ版 |
|------|------|----------|
| 移動 | 矢印キー（←→↑↓）またはWASDキー | タッチドラッグ操作 |
| 攻撃 | 自動連射（0.3秒間隔） | 自動連射（0.3秒間隔） |
| スキル発動（時間停止） | Shiftキー | 右下のクロノシスボタン |
| ポーズ | Pキー | 右上ポーズボタン |

---

## 7. 主要要素

### プレイヤー（ラーム・ブリヤント）
| パラメータ | 値 | 備考 |
|-------------|----|------|
| HP | 100 | 被弾で減少、0でゲームオーバー（レベルアップで+10） |
| 攻撃力 | 5 | 通常弾ダメージ（レベルアップで+1） |
| 攻撃速度 | 0.3秒間隔 | 自動連射 |
| スキル | 時間停止（2秒） | クールダウン10秒（レベルアップで短縮） |
| XPシステム | あり | 敵撃破・アイテム取得でXP獲得、レベルアップ |

### 敵キャラクター
| 名称 | HP | 行動 | 特徴 |
|------|----|------|------|
| 敵L1〜L4 | 10〜30 | 前方へ直進・ジグザグ移動 | 4種類の敵がランダム出現 |
| 透明敵 | 10〜30 | 前方へ直進 | 時間停止中のみ可視化（20%確率） |
| ジグザグ敵 | 20〜40 | 上下移動＋射撃 | ジグザグ移動しながら攻撃 |
| 魔王ヴェル＝ノア | 300 | 弾幕＋時間歪曲 | 最終ボス、HP減少で攻撃強化 |

---

## 8. アイテム
| 名称 | 効果 |
|------|------|
| HP回復アイテム | HPを30回復 |
| スコアオーブ | スコア+50、XP+20 |

---

## 9. ステージ構成
| ステージ | 背景 | 敵構成 | ボス |
|-----------|------|--------|------|
| 1 | 時空の裂け目 | 敵L1〜L4、透明敵、ジグザグ敵 | なし |
| 2 | 魔王城前 | 敵L1〜L4、透明敵、ジグザグ敵 | 魔王ヴェル＝ノア |

---

## 10. 成長・強化要素
- XPシステムによるレベルアップ
  - HP最大値+10
  - 攻撃力+1
  - 時間停止クールダウン短縮（最小2秒）
- 敵の攻撃パターンがレベルに応じて強化
- レベルアップごとに敵の射撃数が増加

---

## 11. 必要画像素材
| 用途 | 内容 | 推奨サイズ(px) | スタイル |
|------|------|----------------|-----------|
| プレイヤー機体 | 自分.png | 64×64 | メカ×神聖デザイン |
| 敵キャラ | enemy_L1.png〜enemy_L4.png | 72×72 | アニメ調ダークトーン |
| 背景 | stage.png | 800×600 | 横スクロール背景 |
| 弾丸 | LightBullet.png, DarkBullet.png, TimeStopBullet.png | 28×28, 22×22 | 発光エフェクト付き |
| UI | スコア、ゲージ、ボタン | 可変 | フラット＋金属調 |
| 魔王立ち絵 | maou.png | 220×220 | 重厚＋闇のオーラ |

---

## 12. 画面構成
**構成要素：**
- 上部：HPバー、スコア、レベル/XPバー、ステージ、時間表示
- 右上：クロノシスゲージ、ポーズボタン
- 中央：ゲームフィールド（スクロール背景＋敵＋弾）
- 右下：クロノシスボタン（スマホ操作用）

---

## 13. 技術仕様
| 項目 | 内容 |
|------|------|
| フレームレート | 60fps推奨 |
| 描画方式 | HTML要素＋CSSアニメーション |
| 移動制御 | `requestAnimationFrame()`で毎フレーム更新 |
| 当たり判定 | `getBoundingClientRect()`による矩形判定 |
| サウンド | Audio API（射撃・爆発・BGM） |
| データ保存 | localStorage（スコア・強化状態） |
| 対応ブラウザ | Chrome / Edge / Firefox / Safari 最新版 |

---

## 14. このゲームの面白さ
- **前作との対比**：「防衛」→「侵攻」へと立場逆転  
- **緊張感ある弾幕回避＋スキル戦略**  
- **女神と魔王の時間戦争という世界観演出**  
- **CSSアニメーションで再現する美しい光弾と時空表現**

---

## 15. 実装補足
- 背景は`background-position`を`animation`で無限ループ  
- 弾と敵はDOMノード動的生成＋削除で管理  
- タッチ操作時は`touchmove`イベントでプレイヤー座標更新  
- BGMループ：`<audio loop>`要素で制御  
- デバッグ用：Fキーで当たり判定枠を可視化  

---

## 16. 想定プレイ時間
**1プレイ：3〜8分程度**  
（ステージ1〜2構成、短時間で周回プレイ可能）

---

## 17. 拡張予定（続編・上級モード）
- **高難易度「時間逆行モード」**：敵弾が逆再生される  
- **女神同盟モード**：複数キャラ操作（協力攻撃）  
- **ランキングサーバ連携**：オンラインスコア記録  

---
