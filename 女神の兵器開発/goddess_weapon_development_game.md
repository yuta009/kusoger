# 女神の魔王殲滅兵器開発ゲーム 仕様書（HTML/CSS/JavaScript版）

## ストーリー
前作で、魔王の時空干渉により、勇者となるはずだった人間の転生が阻止された。
その結果、魔王が世界を支配する未来が現実になりつつある。
女神は自らの力だけでは魔王に対抗できないため、「魔王殲滅兵器」の開発に乗り出す。
女神は、くやしさと焦燥感を抱えながら兵器開発を開始した。

## ゲーム概要
* **ジャンル**：開発・育成・シミュレーション
* **目的**：魔王殲滅兵器を完成させ、開発過程を楽しむ
* **プラットフォーム**：Webブラウザ（HTML/CSS/JavaScript）
* **表現方法**：DOM要素＋CSSアニメーションのみ（Canvas API不使用）

### 新要素（バージョンアップ）
- 経過時間の表示（分:秒）と時間制限（3分）
- 進行速度の再調整（資源回復・モジュール作業頻度・進捗量の低下）
- クリックで魔力を獲得するクリックエリア（中央円）
- 兵器投資（人間/機械/魔法）のレベルシステムとパッシブ収入
- 投資合計に応じた中央ビジュアルの進化（✨→🌟→💫→🛡️⚡）
- 残り時間に応じた脅威演出（魔王の魂の接近、画面オーバーレイ）
- プレイヤー選択（召喚/強化/機械/魔法/資源投入）の記録
- 選択傾向に応じた分岐エンディング（兵器名と物語）

## 画面構成
* **上部**：ステータスバー（資源、完成度ゲージ、経過時間）
* **中央**：開発フィールド（クリックエリア、中央ビジュアル、脅威演出、モジュール）
* **下部**：操作パネル（召喚/強化/機械/魔法、資源投入、自動開発、投資ボタン）

## 資源とステータス
| リソース | 用途 |
|----------|------|
| 魔力（Mana） | 研究、魔法・兵器作成、強化に使用 |
| 技術ポイント | 機械や魔法モジュール開発に使用 |
| 素材 | 兵器や強化装置の作成、異世界人間召喚に使用 |
| 人材 | 異世界人間を呼び寄せる、または既存人間を強化するために必要 |

## 兵器開発システム

### 開発方法のパターン
1. **異世界人間召喚**
   - 人間を召喚して兵器モジュールの操作や魔法実験に協力させる
   - 召喚には素材と魔力が必要
2. **既存世界の人間強化**
   - 特定の人間を強化（魔力付与、身体能力向上）し、兵器開発に参加させる
3. **機械・魔法モジュール開発**
   - 自動兵器や魔法装置を開発し、人間に与えて開発効率を向上させる
4. **兵器完成度ゲージ**
   - 各モジュール・人材・投資・クリック投入で進行し、完成度が100%になると「魔王殲滅兵器」が完成

### 投資レベルシステム（新）
* 投資:人間 — クリック収入増加、毎秒の魔力収入増加
* 投資:機械 — 毎秒の技術P/素材収入増加
* 投資:魔法 — クリック収入と毎秒の魔力/技術P収入増加
* レベルに応じて必要コストが逓増。合計レベルに応じて中央ビジュアルが進化

### 操作フロー
1. 下部パネルからモジュールや人間を選択
2. 開発フィールドに配置
3. 魔力・素材を投入して開発・強化
4. 完成度ゲージの上昇を確認

## イベント・ランダム要素
* 異世界召喚成功率は魔力や素材、過去の失敗回数で変動
* 強化中の人間が失敗する可能性がある（魔力不足、材料不足）
* モジュール開発で新しい技術が偶然発見されることもある

## 操作方法
| 操作 | 内容 |
|------|------|
| クリック | 中央円をクリックして魔力を獲得／パネルから各行動を実行 |
| ドラッグ | 開発フィールド上で配置の移動 |
| スペースキー | 魔力20を技術Pまたは素材へランダム転用 |

### ショートカット詳細
- スペース：魔力20を技術Pまたは素材へ転用（ランダム）

## ゴール・勝敗条件
### ゴール（ゲームクリアの定義）
**兵器開発の完成度ゲージが100%になった時点でゲームクリア**。
- クリア時、プレイヤーの選択に基づき以下のいずれかの兵器が完成し、固有エンディングが再生される：
  1) 聖遺・英雄増幅砲（人材中心）
  2) 機神・終末演算要塞（機械中心）
  3) 神託・時空連結魔導核（魔法中心）
  4) 統合兵装・創世アーク（バランス）
- 完成度ゲージは以下で上昇：
  - 異世界人間の召喚・協力／既存人間の強化
  - 機械・魔法モジュールの開発・設置
  - 資源投入（クリック）

### 成功条件（勝利）
1. **魔王殲滅兵器完成度100%**
2. 完成後、開発過程で得られたモジュール・人材・魔法の管理が可能
> 成功＝「女神が魔王殲滅兵器の開発を完遂した状態」

### 失敗条件（敗北）
1. **資源枯渇**：魔力、素材、技術ポイント、人材のいずれかが開発に必要な量を下回る
2. **人材・モジュールの壊滅**：強化中の人間がすべて失敗、またはモジュールが破損
3. **時間制限**：経過時間が5分（300秒）に達する
4. **進行不能状態**：完成度ゲージが増加不能な状態が一定ターン続く

### UI上の明示
- 完成度ゲージ：画面上部にバーで表示（0～100%）
- リソース表示：魔力・素材・技術ポイント・人材の残量を常時表示
- 警告表示：リソース不足や人材失敗時に視覚・音で通知
- 勝敗表示：完成度100%で「開発成功」、失敗条件発生で「開発失敗」と表示

## 技術仕様
* **HTML**：開発フィールド、モジュール、人材、UIを`<div>`で構築
* **CSS**：`transition`/`animation`でゲージ進行、魔法エフェクト、召喚アニメーションを表現
* **JavaScript**：
  - タイマー制御（経過時間の測定と表示、5分制限・脅威演出）
  - モジュール進行管理（頻度・増分のバランス調整）
  - 完成度ゲージ計算（整数表示、クリック/投資/モジュール成果）
  - リソース管理（魔力・素材・技術ポイント・人材）
  - クリック収入と投資レベルによるパッシブ収入
  - プレイヤー選択ログ（召喚/強化/機械/魔法/投入）
  - 分岐エンディング決定ロジック
  - UI更新（ゲージ、資源表示、成功率表示、経過時間）

## ゲームの面白さ
* **戦略性**：どの開発方法を優先するか、どの人材やモジュールを強化するかで進行が変わる
* **緊張感**：失敗や偶然の発見に一喜一憂するプレイ感
* **成長感**：兵器の完成度が上がるごとに達成感が増す
* **ストーリー性**：前作の悔しさや焦りを体験しながら、女神としての立場で開発を進める

